//----------------------------------------------
//
//	LAYOUT - general layout styles for main containers
//
//	location: 
//      /sass/base/_layout.scss
//
//----------------------------------------------


*, *:before, *:after {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}


//----------------------------------------
// Define constrained containers sitewide
//-----------------------------------------

.l-constrained {
	@include breakpoint($small-only) {
		margin: 0 24px;
	}
	@include breakpoint($medium-up) {
		width: 80%;
		margin-left: auto;
		margin-right: auto;
	}
	@include breakpoint($xxlarge-up) {
		width: 70%;	
	}
}



/*----------------------------------------

 Add Clearfix to all main containers

----------------------------------------*/

.l-constrained,
.l-pre-header,
.l-header,
.l-inner,
.l-content,
#content,
.pre-content,
.l-content-wrapper,
.l-pre-footer-wrapper,
.l-footer-wrapper {
	@extend %clearfix;
}


/*----------------------------------------

 Admin menus
 
----------------------------------------*/


// Inline Add field collection - links
ul.action-links.action-links-field-collection-add {
    width: 100%;
    background: rgba(0,0,0,0.1);
    padding: 5px;
    list-style-type: none;
    margin-left: 0;
    float: none;
    overflow: hidden;
    
	li {
		list-style-type: none;
		float: left;
		margin-right: 10px;
	}
}


/*----------------------------------------

 HEADER region Layout

----------------------------------------*/


.l-header {
	position: relative;
	z-index: 99;
	background-color: #fff;
	
	.l-constrained {
		width: 90%;
		margin: 0 auto;
	}
}


.not-front .l-header {
	background-color: #fff;
	box-shadow: 1px 0 2px rgba(146, 146, 146, 0.8);
	
	.l-constrained {
		position: relative;
		
		@include breakpoint($small-only) {
			height: $header-height-small;
		}
		@include breakpoint($medium-up) {
			height: $header-height-medium;
		}
		@include breakpoint($large-up) {
			height: $header-height-large;
		}
	}

}

.l-header.fixed {
	box-shadow: none;
	height: $header-height-small;
	
	.l-constrained {
		@include breakpoint($small-up) {
			height: $header-height-small;
		}
		@include breakpoint($medium-up) {
			height: $header-height-small;
		}
		@include breakpoint($large-up) {
			height: $header-height-small;
		}
	}
}


/*----------------------------------------

 CONTENT region layout

----------------------------------------*/


// main content section of site
// remove default styling on full width pages

// .page-node-49 = websites page, whatever that ends up being called

body:not(.section-work):not(.page-software-design):not(.page-node-49):not(.page-home):not(.page-capabilities):not(.page-about):not(.page-drupal) {
	.block-system-main-block {
		@include constrained;
	}
}

//-------------------------------
// for fixed footer
//-------------------------------

.l-inner-wrap {
	@include breakpoint($medium-up) {
		// allow space for fixed pos footer
	    padding-bottom: 325px;
    }
}
section#content {
    background: #fff;   
}

section#content, 
.l-pre-footer-wrapper {
    position: relative;
    z-index: 1;
}


// Pages without full width content - constrain to % width
.section-user,
.section-contact {
	.block-system-main-block {
		@include constrained;
		padding-bottom: 5vw;
	}
}


.l-content {
	position: relative;
	min-height: 500px;
}

// Page title
.block-page-title-block {
	text-align: center;
	background: #262835;
	position: relative;
	
	@include breakpoint($small-up) {
		padding: 7vw 30px 7vw;
		margin-bottom: 8vw;
		//background: url(../images/bg-footer-cta-mobile.jpg) no-repeat scroll center center;
		//background-size: 100% auto;
	}

	@include breakpoint($large-up) {
		padding: 6vw 30px 6vw;
		margin-bottom: 6vw;
		//background: url(../images/bg-footer-cta.jpg) no-repeat scroll center center;
		//background-size: 100% auto;
	}
	
	h1 {
		margin: 0;
		text-transform: uppercase;
		letter-spacing: 0.25em;
		color: #fff;
		padding-bottom: 20px;
		position: relative;
		font-weight: bold;
		@include responsive-page-title;
		
		// dash under title
		&:after {
		    display: block;
		    content: "";
		    height: 2px;
		    background: $primary-color;
		    text-align: center;
		    position: absolute;
		    bottom: 0;
		    @include centerX;
		    animation: underline-animation 0.7s ease-in-out forwards;
		    animation-delay: .7s;
		}
	}
}

// Animation
@keyframes underline-animation {
	0% {
		width: 0;
	}
	100% {
		width: 60px;
	}
}
@-webkit-keyframes underline-animation {
	0% {
		width: 0;
	}
	100% {
		width: 60px;
	}
}

.not-front .l-main {
	//padding-bottom: 50px;
	min-height: 500px;
}

/*----------------------------
 Section rows
-----------------------------*/

// use on inner blocks that are within a constrained style section
// the idea is to keep padding consistent with that of story blocks
.constrained-row {
	padding: $constrained-row-padding;
}

// use on inner blocks not using constrained styles 
.unconstrained-row {
	padding: $unconstrained-row-padding;
}


/*----------------------------------------

 Base Column styles

----------------------------------------*/

// horizontal col


/*----------------------------------------

 FOOTER region layout

----------------------------------------*/

.l-pre-footer-wrapper,
.l-footer-wrapper {
	.l-constrained {
		@include breakpoint($medium-up) {
			width: 90%;
		}
	}
}
