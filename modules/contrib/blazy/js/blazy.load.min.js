!function(t,i,e,n,a){"use strict";function o(){var i=t.blazy;if(l(),void 0!==i.init.options.selector&&null!==i.init.options.selector){var n=a.querySelectorAll(i.init.options.selector+":not(."+i.init.options.successClass+")");n.length>0&&e.once(e.forEach(n,s))}}function s(i){function o(t){var i=!!t.getAttribute("data-dimensions")&&e.parse(t.getAttribute("data-dimensions"));if(i){var n=Object.keys(i),a=n[0],o=n[n.length-1],s=function(t){return t>=r.windowWidth},l=n.filter(s).map(function(t){return i[t]}).shift();"undefined"===l&&(l=i[r.windowWidth>=o?o:a]),"undefined"!==l&&(t.style.paddingBottom=l+"%"),t.removeAttribute("data-ratio")}}function s(t){t.hasAttribute("style")||(t.style.paddingBottom=t.getAttribute("data-ratio")+"%"),t.removeAttribute("data-ratio")}var r=t.blazy,c=i.getAttribute("data-blazy"),d=!c||"1"===c,u=d?{}:e.parse(c),b=e.extend({},r.globals(),u),y=i.querySelectorAll("[data-dimensions]"),f=y.length>0,h=i.querySelectorAll("[data-ratio]"),g=h.length>0;d?l():(r.options=b,r.init=r.run(b)),e.resize(function(){r.windowWidth=n.innerWidth||a.documentElement.clientWidth||a.body.clientWidth||n.screen.width,f?e.forEach(y,o,i):g&&e.forEach(h,s,i),(r.isBlazy()||i.classList.contains("blazy--revalidate"))&&r.init.revalidate(!0)})(),i.classList.add("blazy--on")}t.blazy=t.blazy||{init:null,windowWidth:0,blazySettings:i.blazy||{},ioSettings:i.blazyIo||{},options:{},globals:function(){var t=this,i={success:t.clearing.bind(t),error:t.clearing.bind(t),selector:".b-lazy",errorClass:"b-error",successClass:"b-loaded"};return e.extend(t.blazySettings,t.ioSettings,i)},clearing:function(t){var i=this,a=t.classList.contains("b-responsive")&&t.hasAttribute("data-pfsrc");t.className=t.className.replace(/(\S+)loading/,"");var o=[e.closest(t,".is-loading"),e.closest(t,'[class*="loading"]')];e.forEach(o,function(t){null!==t&&(t.className=t.className.replace(/(\S+)loading/,""))}),n.picturefill&&a&&n.picturefill({reevaluate:!0,elements:[t]}),e.trigger(t,"blazy.done",{options:i.options})},isIo:function(){return this.ioSettings&&this.ioSettings.enabled&&"IntersectionObserver"in n},isBlazy:function(){return!this.isIo()&&"Blazy"in n},run:function(t){return this.isIo()?new BioMedia(t):new Blazy(t)}};var l=e.once(function(){var i=t.blazy;i.options=i.globals(),i.init=i.run(i.options)});t.behaviors.blazy={attach:function(t){if(null===a.querySelector("[data-blazy]"))return void o();var i=a.querySelectorAll(".blazy:not(.blazy--on)");e.once(e.forEach(i,s))}}}(Drupal,drupalSettings,dBlazy,this,this.document);
